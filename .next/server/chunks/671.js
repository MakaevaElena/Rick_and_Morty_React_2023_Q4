exports.id=671,exports.ids=[671],exports.modules={6606:e=>{e.exports={"pagination-buttons":"ButtonList_pagination-buttons__n4REo","pagination-button":"ButtonList_pagination-button__QbRPV",chosen_button:"ButtonList_chosen_button__RNLH_","change-count-select":"ButtonList_change-count-select__pdDYT",button:"ButtonList_button__mTYVr"}},749:e=>{e.exports={card:"Card_card__zmZ8O","character-img":"Card_character-img__ZTj3e",stats:"Card_stats__pNM4_",stat:"Card_stat__tEMBa"}},6083:e=>{e.exports={"main-container":"CharacterList_main-container__vDXTJ","character-list":"CharacterList_character-list__fM4HZ"}},8624:e=>{e.exports={root:"Layout_root__16pzl",container:"Layout_container__r7utL",card:"Layout_card__1Vp29","info-from-store":"Layout_info-from-store__Opl4n"}},7409:e=>{e.exports={loader:"Loader_loader__aTh_8",rotation:"Loader_rotation__iM4O0"}},3584:e=>{e.exports={form:"Searching_form__cY8zU","search-input":"Searching_search-input__8uFm4","search-button":"Searching_search-button__jE4kf"}},8190:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(997);a(6689);let s=e=>r.jsx("button",{"data-testid":e.dataTestid,className:`button ${e.style}`,onClick:e.onClick,children:e.children})},5780:(e,t,a)=>{"use strict";a.d(t,{Z:()=>b});var r=a(997),s=a(6689),n=a(6083),c=a.n(n),i=a(749),o=a.n(i),d=a(2781),l=a(1664),u=a.n(l),h=a(1171),p=a(5675),g=a.n(p);let m=e=>{let t=(0,h.C)(e=>e.data.searchValue),a=t&&"string"==typeof t?encodeURI(t):"",s=(0,h.C)(e=>e.data.page),n=s||d.XJ,c=(0,h.C)(e=>e.data.countPerPage)||d.yD;return r.jsx("div",{className:o().card,children:(0,r.jsxs)(u(),{"data-testid":"card",href:`/search/details/?page=${n}&count=${c}&id=${e.RickandmortyData.id}${t&&`&searchValue=${a}`}`,children:[r.jsx("h3",{children:e.RickandmortyData.name}),r.jsx(g(),{priority:!0,width:500,height:500,className:o()["character-img"],src:e.RickandmortyData.image?e.RickandmortyData.image:"",alt:"character-img"}),(0,r.jsxs)("div",{className:o().stats,children:[(0,r.jsxs)("li",{children:[" species: ",e.RickandmortyData.species]}),(0,r.jsxs)("li",{children:[" gender: ",e.RickandmortyData.gender]})]})]})})};var _=a(7897),y=a(6022),x=a(1841),j=a(4978),v=a(6606),f=a.n(v),C=a(1163);let P=()=>{let e=(0,C.useRouter)(),t=(0,y.useDispatch)(),a=e.query?.page||d.XJ,n=e.query?.count||d.yD,c=(0,h.C)(e=>e.data.countPerPage),{data:i,isLoading:o}=(0,j.q4)(+a);function l(){t((0,x._L)({type:"changePage",value:a})),t((0,x.YA)(a))}return(0,s.useEffect)(()=>{a&&t((0,x.YA)(+a)),t((0,x.sV)(n)),t((0,x.Nd)(o))},[c,t,o,a,n]),(0,r.jsxs)("div",{"data-testid":"button-list",className:f().pagination,children:[r.jsx("h2",{children:"Pagination"}),(0,r.jsxs)("select",{value:n,"data-testid":"select",className:f()["change-count-select"],onChange:r=>{r.target instanceof HTMLSelectElement&&(t((0,x.YA)(a)),e.push(`/search/?page=${d.XJ}&count=${r.target.value}`),t((0,x.sV)(r.target.value)))},children:[r.jsx("option",{value:"5",children:"5"}),r.jsx("option",{value:"10",children:"10"}),r.jsx("option",{value:"15",children:"15"}),r.jsx("option",{value:"20",children:"20"})]}),r.jsx("div",{className:f()["pagination-buttons"],children:i?.results.map((e,t)=>r.jsx(u(),{"data-testid":t,"aria-current":"page",onClick:l,href:`/search/?page=${t+1}&count=${c}`,className:`${f()["pagination-button"]} ${f()[a&&+a===t+1?"chosen_button":""]}`,children:r.jsx("div",{id:`${t+1}`,children:t+1},t+1)},t+1))})]})},L=()=>{let e=(0,y.useDispatch)(),t=(0,C.useRouter)(),a=t.query?.page||d.XJ,{isLoading:n}=(0,j.q4)(+a);return(0,s.useEffect)(()=>{e((0,x.Nd)(n))},[n,e]),n?r.jsx(_.Z,{}):r.jsx(P,{})},b=({characterList:e,children:t})=>{let a=(0,y.useDispatch)(),n=(0,C.useRouter)(),i=(0,h.C)(e=>e.data.countPerPage),o=(0,h.C)(e=>e.data.page),d=(0,h.C)(e=>e.data.countPerPage),l=(0,h.C)(e=>e.data.query),u=(0,h.C)(e=>e.data.init),{isLoading:p,error:g}=(0,j.pb)(l),v=e?e.results:[];v.slice(0,+d);let f=e=>{e.target instanceof HTMLElement&&e.target.classList.contains("character-list")&&n.push(`/search/?page=${o}&count=${i}`)};return(0,s.useEffect)(()=>{a((0,x.hm)(!1)),a((0,x.Nd)(p)),u&&a((0,x.eY)(!1))},[a,!1,p,e,d,l,u,o]),p?r.jsx(_.Z,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:c()["main-container"],children:[r.jsx("section",{className:c()["character-list"],"data-testid":"character-list",onClick:e=>f(e),children:!g&&v.length>0?v.slice(0,+d).map(e=>r.jsx(m,{RickandmortyData:e},e.id)):r.jsx("h2",{children:"Character not found"})}),t]}),r.jsx(L,{})]})}},7897:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var r=a(997);a(6689);var s=a(7409),n=a.n(s);let c=()=>r.jsx("div",{className:n().loader,"data-testid":"loader"})},4978:(e,t,a)=>{"use strict";a.d(t,{P3:()=>d,UY:()=>c,Xz:()=>u,ZO:()=>h,pb:()=>o,q4:()=>i,sw:()=>p,zk:()=>l});var r=a(4335),s=a(2781),n=a(5648);let c=(0,r.createApi)({reducerPath:"rickAndMorty",baseQuery:(0,r.fetchBaseQuery)({baseUrl:s._n}),extractRehydrationInfo(e,{reducerPath:t}){if(e.type===n.HYDRATE)return e.payload[t]},endpoints:e=>({fetchDataByPage:e.query({query:e=>`/character/?page=${e}`}),fetchDataByValue:e.query({query:e=>"searchValue"===e.type?`/character/?name=${e.value}`:"changePage"===e.type?`/character/?page=${e.value}`:"/character/"}),fetchRickandmortyDetails:e.query({query:e=>`/character/${e}`})})}),{useFetchDataByPageQuery:i,useFetchDataByValueQuery:o,useFetchRickandmortyDetailsQuery:d,util:{getRunningQueriesThunk:l}}=c,{fetchRickandmortyDetails:u,fetchDataByPage:h,fetchDataByValue:p}=c.endpoints},2781:(e,t,a)=>{"use strict";a.d(t,{XJ:()=>n,_n:()=>r,yD:()=>s});let r="https://rickandmortyapi.com/api/",s="20",n=1},888:(e,t,a)=>{"use strict";a.r(t),a.d(t,{App:()=>v,default:()=>C});var r=a(997);a(108);var s=a(6689),n=a.n(s),c=a(8190);class i extends n().Component{constructor(e){super(e),this.state={hasError:!1},this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary Uncaught error:",e,t)}reload(){}render(){return this.state.hasError?(0,r.jsxs)(r.Fragment,{children:[r.jsx("h1",{children:"Sorry.. there was an error"}),r.jsx(c.Z,{onClick:this.reload,children:"Reload"})]}):this.props.children}}var o=a(3584),d=a.n(o),l=a(2781),u=a(6022),h=a(1841),p=a(1171),g=a(1163);let m=()=>{let e=(0,u.useDispatch)(),t=(0,g.useRouter)(),[a,c]=(0,s.useState)(""),i=(0,p.C)(e=>e.data.query),o=(0,p.C)(e=>e.data.countPerPage)||l.yD,m=n().createRef(),_=n().createRef();return(0,s.useEffect)(()=>{let t=localStorage.getItem("searchValue");t&&(c(t),e((0,h.gI)(t))),"changePage"===i.type&&(c(""),localStorage.setItem("searchValue",""),e((0,h.gI)("")))},[e,i.type]),(0,r.jsxs)(r.Fragment,{children:[r.jsx("h2",{children:"Rick and Morty"}),r.jsx("section",{className:d()["character-searching"],children:(0,r.jsxs)("form",{className:d().form,children:[r.jsx("input",{ref:m,className:d()["search-input"],type:"text",placeholder:"search...",value:a,onChange:function(t){t?.target instanceof HTMLInputElement&&(function(e){if(!0!==/^\s|\s$/.test(e.value))return e.setCustomValidity(""),_.current?.classList.remove("disable");e.setCustomValidity("Searching must not contain leading or trailing whitespace."),_.current?.classList.add("disable"),e.reportValidity()}(t?.target),c(t?.target.value),e((0,h.gI)(t?.target.value)))}}),r.jsx("div",{"data-testid":"search-button",className:d()["search-button"],onClick:function(){localStorage.setItem("searchValue",a),e((0,h.gI)(a)),t.push(`/search/?page=1&count=${o}&searchValue=${a}`),e((0,h._L)({type:"searchValue",value:a}))},ref:_})]})})]})};var _=a(8624),y=a.n(_);let x=({children:e})=>{let t=(0,p.C)(e=>e.data.searchValue),a=(0,p.C)(e=>e.data.countPerPage),s=(0,p.C)(e=>e.data.viewMode);return(0,r.jsxs)("div",{className:"container",children:[r.jsx(m,{}),(0,r.jsxs)("div",{className:y()["info-from-store"],children:[(0,r.jsxs)("h4",{children:["SearchValue: ",t||"Empty"]}),(0,r.jsxs)("h4",{children:["CountPerPage: ",a||"Empty"]}),(0,r.jsxs)("h4",{children:["ViewMode: ",`${s}`||"Empty"]})]}),e]})};var j=a(3372);function v({Component:e,pageProps:t}){return r.jsx(i,{children:r.jsx(x,{children:r.jsx(e,{...t})})})}let f=j.Y.withRedux(v),C=f},5211:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Document});var r=a(997),s=a(6859);function Document(){return(0,r.jsxs)(s.Html,{lang:"en",children:[r.jsx(s.Head,{}),(0,r.jsxs)("body",{children:[r.jsx(s.Main,{}),r.jsx(s.NextScript,{})]})]})}},1841:(e,t,a)=>{"use strict";a.d(t,{Nd:()=>o,YA:()=>h,ZP:()=>_,_L:()=>m,ch:()=>d,eY:()=>i,gI:()=>g,hm:()=>l,sV:()=>p});var r=a(5184),s=a(2781);let n={init:!0,data:[],mainIsLoading:!1,detailesIsLoading:!1,page:s.XJ,countPerPage:s.yD,searchValue:"",viewMode:!1,query:{type:"searchValue",value:""}},c=(0,r.createSlice)({name:"app",initialState:n,reducers:{setInit:(e,t)=>{e.init=t.payload},setQuery:(e,t)=>{e.query=t.payload},setMainIsLoading:(e,t)=>{e.mainIsLoading=t.payload},setDetailesIsLoading:(e,t)=>{e.detailesIsLoading=t.payload},setViewMode:(e,t)=>{e.viewMode=t.payload},setData:(e,t)=>{e.data=t.payload},setPage:(e,t)=>{e.page=t.payload},setCountPerPage:(e,t)=>{e.countPerPage=t.payload},setSearchValue:(e,t)=>{e.searchValue=t.payload}}}),{setInit:i,setMainIsLoading:o,setDetailesIsLoading:d,setViewMode:l,setData:u,setPage:h,setCountPerPage:p,setSearchValue:g,setQuery:m}=c.actions,_=c.reducer},1171:(e,t,a)=>{"use strict";a.d(t,{C:()=>s});var r=a(6022);let s=r.useSelector},3372:(e,t,a)=>{"use strict";a.d(t,{Y:()=>l});var r=a(5184),s=a(1841),n=a(5642),c=a(4978),i=a(5648);let o=()=>(0,r.configureStore)({reducer:{data:s.ZP,[c.UY.reducerPath]:c.UY.reducer},middleware:e=>e().concat(c.UY.middleware),devTools:!1}),d=o();(0,n.setupListeners)(d.dispatch);let l=(0,i.createWrapper)(o)},108:()=>{}};