(()=>{var e={};e.id=888,e.ids=[888],e.modules={8624:e=>{e.exports={root:"Layout_root__16pzl",container:"Layout_container__r7utL",card:"Layout_card__1Vp29","info-from-store":"Layout_info-from-store__Opl4n"}},3584:e=>{e.exports={form:"Searching_form__cY8zU","search-input":"Searching_search-input__8uFm4","search-button":"Searching_search-button__jE4kf"}},8190:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var a=t(997);t(6689);let s=e=>a.jsx("button",{"data-testid":e.dataTestid,className:`button ${e.style}`,onClick:e.onClick,children:e.children})},4978:(e,r,t)=>{"use strict";t.d(r,{P3:()=>n,UY:()=>i,Xz:()=>l,ZO:()=>h,pb:()=>u,q4:()=>o,sw:()=>p,zk:()=>d});var a=t(4335),s=t(2781),c=t(5648);let i=(0,a.createApi)({reducerPath:"rickAndMorty",baseQuery:(0,a.fetchBaseQuery)({baseUrl:s._n}),extractRehydrationInfo(e,{reducerPath:r}){if(e.type===c.HYDRATE)return e.payload[r]},endpoints:e=>({fetchDataByPage:e.query({query:e=>`/character/?page=${e}`}),fetchDataByValue:e.query({query:e=>"searchValue"===e.type?`/character/?name=${e.value}`:"changePage"===e.type?`/character/?page=${e.value}`:"/character/"}),fetchRickandmortyDetails:e.query({query:e=>`/character/${e}`})})}),{useFetchDataByPageQuery:o,useFetchDataByValueQuery:u,useFetchRickandmortyDetailsQuery:n,util:{getRunningQueriesThunk:d}}=i,{fetchRickandmortyDetails:l,fetchDataByPage:h,fetchDataByValue:p}=i.endpoints},2781:(e,r,t)=>{"use strict";t.d(r,{XJ:()=>c,_n:()=>a,yD:()=>s});let a="https://rickandmortyapi.com/api/",s="20",c=1},888:(e,r,t)=>{"use strict";t.r(r),t.d(r,{App:()=>j,default:()=>_});var a=t(997);t(108);var s=t(6689),c=t.n(s),i=t(8190);class o extends c().Component{constructor(e){super(e),this.state={hasError:!1},this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,r){console.error("ErrorBoundary Uncaught error:",e,r)}reload(){}render(){return this.state.hasError?(0,a.jsxs)(a.Fragment,{children:[a.jsx("h1",{children:"Sorry.. there was an error"}),a.jsx(i.Z,{onClick:this.reload,children:"Reload"})]}):this.props.children}}var u=t(3584),n=t.n(u),d=t(2781),l=t(6022),h=t(1841),p=t(1171),y=t(1163);let g=()=>{let e=(0,l.useDispatch)(),r=(0,y.useRouter)(),[t,i]=(0,s.useState)(""),o=(0,p.C)(e=>e.data.query),u=(0,p.C)(e=>e.data.countPerPage)||d.yD,g=c().createRef(),m=c().createRef();return(0,s.useEffect)(()=>{let r=localStorage.getItem("searchValue");r&&(i(r),e((0,h.gI)(r))),"changePage"===o.type&&(i(""),localStorage.setItem("searchValue",""),e((0,h.gI)("")))},[e,o.type]),(0,a.jsxs)(a.Fragment,{children:[a.jsx("h2",{children:"Rick and Morty"}),a.jsx("section",{className:n()["character-searching"],children:(0,a.jsxs)("form",{className:n().form,children:[a.jsx("input",{ref:g,className:n()["search-input"],type:"text",placeholder:"search...",value:t,onChange:function(r){r?.target instanceof HTMLInputElement&&(function(e){if(!0!==/^\s|\s$/.test(e.value))return e.setCustomValidity(""),m.current?.classList.remove("disable");e.setCustomValidity("Searching must not contain leading or trailing whitespace."),m.current?.classList.add("disable"),e.reportValidity()}(r?.target),i(r?.target.value),e((0,h.gI)(r?.target.value)))}}),a.jsx("div",{"data-testid":"search-button",className:n()["search-button"],onClick:function(){localStorage.setItem("searchValue",t),e((0,h.gI)(t)),r.push(`/search/?page=1&count=${u}&searchValue=${t}`),e((0,h._L)({type:"searchValue",value:t}))},ref:m})]})})]})};var m=t(8624),x=t.n(m);let f=({children:e})=>{let r=(0,p.C)(e=>e.data.searchValue),t=(0,p.C)(e=>e.data.countPerPage),s=(0,p.C)(e=>e.data.viewMode);return(0,a.jsxs)("div",{className:"container",children:[a.jsx(g,{}),(0,a.jsxs)("div",{className:x()["info-from-store"],children:[(0,a.jsxs)("h4",{children:["SearchValue: ",r||"Empty"]}),(0,a.jsxs)("h4",{children:["CountPerPage: ",t||"Empty"]}),(0,a.jsxs)("h4",{children:["ViewMode: ",`${s}`||"Empty"]})]}),e]})};var v=t(3372);function j({Component:e,pageProps:r}){return a.jsx(o,{children:a.jsx(f,{children:a.jsx(e,{...r})})})}let q=v.Y.withRedux(j),_=q},1841:(e,r,t)=>{"use strict";t.d(r,{Nd:()=>u,YA:()=>h,ZP:()=>m,_L:()=>g,ch:()=>n,eY:()=>o,gI:()=>y,hm:()=>d,sV:()=>p});var a=t(5184),s=t(2781);let c={init:!0,data:[],mainIsLoading:!1,detailesIsLoading:!1,page:s.XJ,countPerPage:s.yD,searchValue:"",viewMode:!1,query:{type:"searchValue",value:""}},i=(0,a.createSlice)({name:"app",initialState:c,reducers:{setInit:(e,r)=>{e.init=r.payload},setQuery:(e,r)=>{e.query=r.payload},setMainIsLoading:(e,r)=>{e.mainIsLoading=r.payload},setDetailesIsLoading:(e,r)=>{e.detailesIsLoading=r.payload},setViewMode:(e,r)=>{e.viewMode=r.payload},setData:(e,r)=>{e.data=r.payload},setPage:(e,r)=>{e.page=r.payload},setCountPerPage:(e,r)=>{e.countPerPage=r.payload},setSearchValue:(e,r)=>{e.searchValue=r.payload}}}),{setInit:o,setMainIsLoading:u,setDetailesIsLoading:n,setViewMode:d,setData:l,setPage:h,setCountPerPage:p,setSearchValue:y,setQuery:g}=i.actions,m=i.reducer},1171:(e,r,t)=>{"use strict";t.d(r,{C:()=>s});var a=t(6022);let s=a.useSelector},3372:(e,r,t)=>{"use strict";t.d(r,{Y:()=>d});var a=t(5184),s=t(1841),c=t(5642),i=t(4978),o=t(5648);let u=()=>(0,a.configureStore)({reducer:{data:s.ZP,[i.UY.reducerPath]:i.UY.reducer},middleware:e=>e().concat(i.UY.middleware),devTools:!1}),n=u();(0,c.setupListeners)(n.dispatch);let d=(0,o.createWrapper)(u)},108:()=>{},5184:e=>{"use strict";e.exports=require("@reduxjs/toolkit")},5642:e=>{"use strict";e.exports=require("@reduxjs/toolkit/query")},4335:e=>{"use strict";e.exports=require("@reduxjs/toolkit/query/react")},5648:e=>{"use strict";e.exports=require("next-redux-wrapper")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},6022:e=>{"use strict";e.exports=require("react-redux")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},7147:e=>{"use strict";e.exports=require("fs")},9955:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[428,163],()=>t(888));module.exports=a})();