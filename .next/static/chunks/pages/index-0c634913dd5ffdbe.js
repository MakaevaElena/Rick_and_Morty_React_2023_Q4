(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,a,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(7925)}])},5780:function(t,a,e){"use strict";e.d(a,{Z:function(){return y}});var n=e(5893),c=e(7294),o=e(8928),r=e.n(o),i=e(819),s=e.n(i),d=e(2781),l=e(1664),u=e.n(l),_=e(1171),h=e(5675),g=e.n(h),m=t=>{let a=(0,_.C)(t=>t.data.searchValue),e=a&&"string"==typeof a?encodeURI(a):"",c=(0,_.C)(t=>t.data.page),o=c||d.XJ,r=(0,_.C)(t=>t.data.countPerPage)||d.yD;return(0,n.jsx)("div",{className:s().card,children:(0,n.jsxs)(u(),{"data-testid":"card",href:"/search/details/?page=".concat(o,"&count=").concat(r,"&id=").concat(t.RickandmortyData.id).concat(a&&"&searchValue=".concat(e)),children:[(0,n.jsx)("h3",{children:t.RickandmortyData.name}),(0,n.jsx)(g(),{priority:!0,width:500,height:500,className:s()["character-img"],src:t.RickandmortyData.image?t.RickandmortyData.image:"",alt:"character-img"}),(0,n.jsxs)("div",{className:s().stats,children:[(0,n.jsxs)("li",{children:[" species: ",t.RickandmortyData.species]}),(0,n.jsxs)("li",{children:[" gender: ",t.RickandmortyData.gender]})]})]})})},p=e(7897),x=e(1248),v=e(1841),f=e(8717),j=e(729),C=e.n(j),N=e(1163),b=()=>{var t,a;let e=(0,N.useRouter)(),o=(0,x.I0)(),r=(null===(t=e.query)||void 0===t?void 0:t.page)||d.XJ,i=(null===(a=e.query)||void 0===a?void 0:a.count)||d.yD,s=(0,_.C)(t=>t.data.countPerPage),{data:l,isLoading:h}=(0,f.q4)(+r);function g(){o((0,v._L)({type:"changePage",value:r})),o((0,v.YA)(r))}return(0,c.useEffect)(()=>{r&&o((0,v.YA)(+r)),o((0,v.sV)(i)),o((0,v.Nd)(h))},[s,o,h,r,i]),(0,n.jsxs)("div",{"data-testid":"button-list",className:C().pagination,children:[(0,n.jsx)("h2",{children:"Pagination"}),(0,n.jsxs)("select",{value:i,"data-testid":"select",className:C()["change-count-select"],onChange:t=>{t.target instanceof HTMLSelectElement&&(o((0,v.YA)(r)),e.push("/search/?page=".concat(d.XJ,"&count=").concat(t.target.value)),o((0,v.sV)(t.target.value)))},children:[(0,n.jsx)("option",{value:"5",children:"5"}),(0,n.jsx)("option",{value:"10",children:"10"}),(0,n.jsx)("option",{value:"15",children:"15"}),(0,n.jsx)("option",{value:"20",children:"20"})]}),(0,n.jsx)("div",{className:C()["pagination-buttons"],children:null==l?void 0:l.results.map((t,a)=>(0,n.jsx)(u(),{"data-testid":a,"aria-current":"page",onClick:g,href:"/search/?page=".concat(a+1,"&count=").concat(s),className:"".concat(C()["pagination-button"]," ").concat(C()[r&&+r===a+1?"chosen_button":""]),children:(0,n.jsx)("div",{id:"".concat(a+1),children:a+1},a+1)},a+1))})]})},L=()=>{var t;let a=(0,x.I0)(),e=(0,N.useRouter)(),o=(null===(t=e.query)||void 0===t?void 0:t.page)||d.XJ,{isLoading:r}=(0,f.q4)(+o);return(0,c.useEffect)(()=>{a((0,v.Nd)(r))},[r,a]),r?(0,n.jsx)(p.Z,{}):(0,n.jsx)(b,{})},y=t=>{let{characterList:a,children:e}=t,o=(0,x.I0)(),i=(0,N.useRouter)(),s=!1;s=window.location.pathname.includes("details");let d=(0,_.C)(t=>t.data.countPerPage),l=(0,_.C)(t=>t.data.page),u=(0,_.C)(t=>t.data.countPerPage),h=(0,_.C)(t=>t.data.query),g=(0,_.C)(t=>t.data.init),{isLoading:j,error:C}=(0,f.pb)(h),b=a?a.results:[];b.slice(0,+u);let y=t=>{t.target instanceof HTMLElement&&t.target.classList.contains("character-list")&&i.push("/search/?page=".concat(l,"&count=").concat(d))};return(0,c.useEffect)(()=>{o((0,v.hm)(s)),o((0,v.Nd)(j)),g&&o((0,v.eY)(!1))},[o,s,j,a,u,h,g,l]),j?(0,n.jsx)(p.Z,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:r()["main-container"],children:[(0,n.jsx)("section",{className:r()["character-list"],"data-testid":"character-list",onClick:t=>y(t),children:!C&&b.length>0?b.slice(0,+u).map(t=>(0,n.jsx)(m,{RickandmortyData:t},t.id)):(0,n.jsx)("h2",{children:"Character not found"})}),e]}),(0,n.jsx)(L,{})]})}},7897:function(t,a,e){"use strict";var n=e(5893);e(7294);var c=e(9681),o=e.n(c);a.Z=()=>(0,n.jsx)("div",{className:o().loader,"data-testid":"loader"})},7925:function(t,a,e){"use strict";e.r(a),e.d(a,{__N_SSP:function(){return i}});var n=e(5893),c=e(1110),o=e.n(c);e(7294);var r=e(5780),i=!0;a.default=t=>{let{searchedList:a}=t;return(0,n.jsx)("div",{className:o().container,children:(0,n.jsx)(r.Z,{characterList:a})})}},1110:function(t){t.exports={main:"Home_main__2uIek",description:"Home_description__zHUB6",code:"Home_code__BZK8z",grid:"Home_grid__vo_ES",card:"Home_card__HIlp_",center:"Home_center__Y_rV4",logo:"Home_logo__ZEOng",content:"Home_content__Qnbja",vercelLogo:"Home_vercelLogo__fCw7S",rotate:"Home_rotate__x60Ft"}},729:function(t){t.exports={"pagination-buttons":"ButtonList_pagination-buttons__n4REo","pagination-button":"ButtonList_pagination-button__QbRPV",chosen_button:"ButtonList_chosen_button__RNLH_","change-count-select":"ButtonList_change-count-select__pdDYT",button:"ButtonList_button__mTYVr"}},819:function(t){t.exports={card:"Card_card__zmZ8O","character-img":"Card_character-img__ZTj3e",stats:"Card_stats__pNM4_",stat:"Card_stat__tEMBa"}},8928:function(t){t.exports={"main-container":"CharacterList_main-container__vDXTJ","character-list":"CharacterList_character-list__fM4HZ"}},9681:function(t){t.exports={loader:"Loader_loader__aTh_8",rotation:"Loader_rotation__iM4O0"}}},function(t){t.O(0,[675,664,774,888,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);