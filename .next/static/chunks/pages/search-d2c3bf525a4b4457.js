(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{5243:function(t,a,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return e(1981)}])},5780:function(t,a,e){"use strict";e.d(a,{Z:function(){return L}});var n=e(5893),c=e(7294),s=e(8928),i=e.n(s),r=e(819),o=e.n(r),d=e(2781),u=e(1664),l=e.n(u),h=e(1171),_=e(5675),g=e.n(_),p=t=>{let a=(0,h.C)(t=>t.data.searchValue),e=a&&"string"==typeof a?encodeURI(a):"",c=(0,h.C)(t=>t.data.page),s=c||d.XJ,i=(0,h.C)(t=>t.data.countPerPage)||d.yD;return(0,n.jsx)("div",{className:o().card,children:(0,n.jsxs)(l(),{"data-testid":"card",href:"/search/details/?page=".concat(s,"&count=").concat(i,"&id=").concat(t.RickandmortyData.id).concat(a&&"&searchValue=".concat(e)),children:[(0,n.jsx)("h3",{children:t.RickandmortyData.name}),(0,n.jsx)(g(),{priority:!0,width:500,height:500,className:o()["character-img"],src:t.RickandmortyData.image?t.RickandmortyData.image:"",alt:"character-img"}),(0,n.jsxs)("div",{className:o().stats,children:[(0,n.jsxs)("li",{children:[" species: ",t.RickandmortyData.species]}),(0,n.jsxs)("li",{children:[" gender: ",t.RickandmortyData.gender]})]})]})})},m=e(7897),x=e(1248),f=e(1841),j=e(8717),v=e(729),C=e.n(v),N=e(1163),b=()=>{var t,a;let e=(0,N.useRouter)(),s=(0,x.I0)(),i=(null===(t=e.query)||void 0===t?void 0:t.page)||d.XJ,r=(null===(a=e.query)||void 0===a?void 0:a.count)||d.yD,o=(0,h.C)(t=>t.data.countPerPage),{data:u,isLoading:_}=(0,j.q4)(+i);function g(){s((0,f._L)({type:"changePage",value:i})),s((0,f.YA)(i))}return(0,c.useEffect)(()=>{i&&s((0,f.YA)(+i)),s((0,f.sV)(r)),s((0,f.Nd)(_))},[o,s,_,i,r]),(0,n.jsxs)("div",{"data-testid":"button-list",className:C().pagination,children:[(0,n.jsx)("h2",{children:"Pagination"}),(0,n.jsxs)("select",{value:r,"data-testid":"select",className:C()["change-count-select"],onChange:t=>{t.target instanceof HTMLSelectElement&&(s((0,f.YA)(i)),e.push("/search/?page=".concat(d.XJ,"&count=").concat(t.target.value)),s((0,f.sV)(t.target.value)))},children:[(0,n.jsx)("option",{value:"5",children:"5"}),(0,n.jsx)("option",{value:"10",children:"10"}),(0,n.jsx)("option",{value:"15",children:"15"}),(0,n.jsx)("option",{value:"20",children:"20"})]}),(0,n.jsx)("div",{className:C()["pagination-buttons"],children:null==u?void 0:u.results.map((t,a)=>(0,n.jsx)(l(),{"data-testid":a,"aria-current":"page",onClick:g,href:"/search/?page=".concat(a+1,"&count=").concat(o),className:"".concat(C()["pagination-button"]," ").concat(C()[i&&+i===a+1?"chosen_button":""]),children:(0,n.jsx)("div",{id:"".concat(a+1),children:a+1},a+1)},a+1))})]})},y=()=>{var t;let a=(0,x.I0)(),e=(0,N.useRouter)(),s=(null===(t=e.query)||void 0===t?void 0:t.page)||d.XJ,{isLoading:i}=(0,j.q4)(+s);return(0,c.useEffect)(()=>{a((0,f.Nd)(i))},[i,a]),i?(0,n.jsx)(m.Z,{}):(0,n.jsx)(b,{})},L=t=>{let{characterList:a,children:e}=t,s=(0,x.I0)(),r=(0,N.useRouter)(),o=!1;o=window.location.pathname.includes("details");let d=(0,h.C)(t=>t.data.countPerPage),u=(0,h.C)(t=>t.data.page),l=(0,h.C)(t=>t.data.countPerPage),_=(0,h.C)(t=>t.data.query),g=(0,h.C)(t=>t.data.init),{isLoading:v,error:C}=(0,j.pb)(_),b=a?a.results:[];b.slice(0,+l);let L=t=>{t.target instanceof HTMLElement&&t.target.classList.contains("character-list")&&r.push("/search/?page=".concat(u,"&count=").concat(d))};return(0,c.useEffect)(()=>{s((0,f.hm)(o)),s((0,f.Nd)(v)),g&&s((0,f.eY)(!1))},[s,o,v,a,l,_,g,u]),v?(0,n.jsx)(m.Z,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:i()["main-container"],children:[(0,n.jsx)("section",{className:i()["character-list"],"data-testid":"character-list",onClick:t=>L(t),children:!C&&b.length>0?b.slice(0,+l).map(t=>(0,n.jsx)(p,{RickandmortyData:t},t.id)):(0,n.jsx)("h2",{children:"Character not found"})}),e]}),(0,n.jsx)(y,{})]})}},7897:function(t,a,e){"use strict";var n=e(5893);e(7294);var c=e(9681),s=e.n(c);a.Z=()=>(0,n.jsx)("div",{className:s().loader,"data-testid":"loader"})},1981:function(t,a,e){"use strict";e.r(a),e.d(a,{__N_SSP:function(){return s}});var n=e(5893);e(7294);var c=e(5780),s=!0;a.default=t=>{let{searchedList:a}=t;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(c.Z,{characterList:a})})}},729:function(t){t.exports={"pagination-buttons":"ButtonList_pagination-buttons__n4REo","pagination-button":"ButtonList_pagination-button__QbRPV",chosen_button:"ButtonList_chosen_button__RNLH_","change-count-select":"ButtonList_change-count-select__pdDYT",button:"ButtonList_button__mTYVr"}},819:function(t){t.exports={card:"Card_card__zmZ8O","character-img":"Card_character-img__ZTj3e",stats:"Card_stats__pNM4_",stat:"Card_stat__tEMBa"}},8928:function(t){t.exports={"main-container":"CharacterList_main-container__vDXTJ","character-list":"CharacterList_character-list__fM4HZ"}},9681:function(t){t.exports={loader:"Loader_loader__aTh_8",rotation:"Loader_rotation__iM4O0"}}},function(t){t.O(0,[675,664,774,888,179],function(){return t(t.s=5243)}),_N_E=t.O()}]);