(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[250],{1408:function(t,a,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search/details",function(){return e(5855)}])},5780:function(t,a,e){"use strict";e.d(a,{Z:function(){return P}});var n=e(5893),s=e(7294),c=e(8928),i=e.n(c),r=e(819),o=e.n(r),d=e(2781),l=e(1664),u=e.n(l),h=e(1171),_=e(5675),g=e.n(_),p=t=>{let a=(0,h.C)(t=>t.data.searchValue),e=a&&"string"==typeof a?encodeURI(a):"",s=(0,h.C)(t=>t.data.page),c=s||d.XJ,i=(0,h.C)(t=>t.data.countPerPage)||d.yD;return(0,n.jsx)("div",{className:o().card,children:(0,n.jsxs)(u(),{"data-testid":"card",href:"/search/details/?page=".concat(c,"&count=").concat(i,"&id=").concat(t.RickandmortyData.id).concat(a&&"&searchValue=".concat(e)),children:[(0,n.jsx)("h3",{children:t.RickandmortyData.name}),(0,n.jsx)(g(),{priority:!0,width:500,height:500,className:o()["character-img"],src:t.RickandmortyData.image?t.RickandmortyData.image:"",alt:"character-img"}),(0,n.jsxs)("div",{className:o().stats,children:[(0,n.jsxs)("li",{children:[" species: ",t.RickandmortyData.species]}),(0,n.jsxs)("li",{children:[" gender: ",t.RickandmortyData.gender]})]})]})})},m=e(7897),x=e(1248),f=e(1841),j=e(8717),v=e(729),C=e.n(v),N=e(1163),y=()=>{var t,a;let e=(0,N.useRouter)(),c=(0,x.I0)(),i=(null===(t=e.query)||void 0===t?void 0:t.page)||d.XJ,r=(null===(a=e.query)||void 0===a?void 0:a.count)||d.yD,o=(0,h.C)(t=>t.data.countPerPage),{data:l,isLoading:_}=(0,j.q4)(+i);function g(){c((0,f._L)({type:"changePage",value:i})),c((0,f.YA)(i))}return(0,s.useEffect)(()=>{i&&c((0,f.YA)(+i)),c((0,f.sV)(r)),c((0,f.Nd)(_))},[o,c,_,i,r]),(0,n.jsxs)("div",{"data-testid":"button-list",className:C().pagination,children:[(0,n.jsx)("h2",{children:"Pagination"}),(0,n.jsxs)("select",{value:r,"data-testid":"select",className:C()["change-count-select"],onChange:t=>{t.target instanceof HTMLSelectElement&&(c((0,f.YA)(i)),e.push("/search/?page=".concat(d.XJ,"&count=").concat(t.target.value)),c((0,f.sV)(t.target.value)))},children:[(0,n.jsx)("option",{value:"5",children:"5"}),(0,n.jsx)("option",{value:"10",children:"10"}),(0,n.jsx)("option",{value:"15",children:"15"}),(0,n.jsx)("option",{value:"20",children:"20"})]}),(0,n.jsx)("div",{className:C()["pagination-buttons"],children:null==l?void 0:l.results.map((t,a)=>(0,n.jsx)(u(),{"data-testid":a,"aria-current":"page",onClick:g,href:"/search/?page=".concat(a+1,"&count=").concat(o),className:"".concat(C()["pagination-button"]," ").concat(C()[i&&+i===a+1?"chosen_button":""]),children:(0,n.jsx)("div",{id:"".concat(a+1),children:a+1},a+1)},a+1))})]})},b=()=>{var t;let a=(0,x.I0)(),e=(0,N.useRouter)(),c=(null===(t=e.query)||void 0===t?void 0:t.page)||d.XJ,{isLoading:i}=(0,j.q4)(+c);return(0,s.useEffect)(()=>{a((0,f.Nd)(i))},[i,a]),i?(0,n.jsx)(m.Z,{}):(0,n.jsx)(y,{})},P=t=>{let{characterList:a,children:e}=t,c=(0,x.I0)(),r=(0,N.useRouter)(),o=!1;o=window.location.pathname.includes("details");let d=(0,h.C)(t=>t.data.countPerPage),l=(0,h.C)(t=>t.data.page),u=(0,h.C)(t=>t.data.countPerPage),_=(0,h.C)(t=>t.data.query),g=(0,h.C)(t=>t.data.init),{isLoading:v,error:C}=(0,j.pb)(_),y=a?a.results:[];y.slice(0,+u);let P=t=>{t.target instanceof HTMLElement&&t.target.classList.contains("character-list")&&r.push("/search/?page=".concat(l,"&count=").concat(d))};return(0,s.useEffect)(()=>{c((0,f.hm)(o)),c((0,f.Nd)(v)),g&&c((0,f.eY)(!1))},[c,o,v,a,u,_,g,l]),v?(0,n.jsx)(m.Z,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:i()["main-container"],children:[(0,n.jsx)("section",{className:i()["character-list"],"data-testid":"character-list",onClick:t=>P(t),children:!C&&y.length>0?y.slice(0,+u).map(t=>(0,n.jsx)(p,{RickandmortyData:t},t.id)):(0,n.jsx)("h2",{children:"Character not found"})}),e]}),(0,n.jsx)(b,{})]})}},993:function(t,a,e){"use strict";var n=e(5893),s=e(7294),c=e(4541),i=e.n(c),r=e(7897),o=e(8190),d=e(8717),l=e(1248),u=e(1841),h=e(1163),_=e(1171),g=e(5675),p=e.n(g);a.Z=t=>{var a;let{details:e}=t,c=(0,_.C)(t=>t.data.searchValue),g=c&&"string"==typeof c?encodeURI(c):"",m=(0,l.I0)(),x=(0,h.useRouter)(),f=(0,_.C)(t=>t.data.countPerPage),j=(null===(a=x.query)||void 0===a?void 0:a.id)||0,v=(0,_.C)(t=>t.data.page),{isLoading:C}=(0,d.P3)(+j,{skip:!1==!!j});return(0,s.useEffect)(()=>{m((0,u.ch)(C))},[m,C]),C?(0,n.jsx)(r.Z,{}):(0,n.jsx)("div",{className:i().info,"data-testid":"info",children:(0,n.jsxs)("div",{className:i().card,children:[(0,n.jsx)(o.Z,{style:"close-button",dataTestid:"close-button",onClick:()=>{x.push("/search/?page=".concat(v,"&count=").concat(f).concat(c&&"&searchValue=".concat(g)))},children:"X"}),(0,n.jsx)("h2",{children:"Info about: "}),(0,n.jsx)("h3",{children:null==e?void 0:e.name}),(0,n.jsx)(p(),{priority:!0,width:500,height:500,"data-testid":"info-img",className:i()["character-img"],src:(null==e?void 0:e.image)?e.image:"",alt:"info-img"}),(0,n.jsxs)("div",{className:i().stats,children:[(0,n.jsxs)("li",{"data-testid":"species",children:[" species: ",null==e?void 0:e.species]}),(0,n.jsxs)("li",{"data-testid":"gender",children:[" gender: ",null==e?void 0:e.gender]}),(0,n.jsxs)("li",{"data-testid":"status",children:[" status: ",null==e?void 0:e.status]}),(0,n.jsxs)("li",{"data-testid":"location",children:[" location: ",null==e?void 0:e.location.name]}),(0,n.jsxs)("li",{"data-testid":"type",children:[" type: ",null==e?void 0:e.type]}),(0,n.jsxs)("li",{"data-testid":"created",children:[" created: ",null==e?void 0:e.created]})]})]})})}},7897:function(t,a,e){"use strict";var n=e(5893);e(7294);var s=e(9681),c=e.n(s);a.Z=()=>(0,n.jsx)("div",{className:c().loader,"data-testid":"loader"})},5855:function(t,a,e){"use strict";e.r(a),e.d(a,{__N_SSP:function(){return i}});var n=e(5893);e(7294);var s=e(5780),c=e(993),i=!0;a.default=t=>{let{searchedList:a,details:e}=t;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.Z,{characterList:a,children:(0,n.jsx)(c.Z,{details:e})})})}},729:function(t){t.exports={"pagination-buttons":"ButtonList_pagination-buttons__n4REo","pagination-button":"ButtonList_pagination-button__QbRPV",chosen_button:"ButtonList_chosen_button__RNLH_","change-count-select":"ButtonList_change-count-select__pdDYT",button:"ButtonList_button__mTYVr"}},819:function(t){t.exports={card:"Card_card__zmZ8O","character-img":"Card_character-img__ZTj3e",stats:"Card_stats__pNM4_",stat:"Card_stat__tEMBa"}},8928:function(t){t.exports={"main-container":"CharacterList_main-container__vDXTJ","character-list":"CharacterList_character-list__fM4HZ"}},4541:function(t){t.exports={info:"Info_info__CPqkF",card:"Info_card___aZbw","character-img":"Info_character-img__WcwVY",stats:"Info_stats__IuVOG",stat:"Info_stat__qWobk"}},9681:function(t){t.exports={loader:"Loader_loader__aTh_8",rotation:"Loader_rotation__iM4O0"}}},function(t){t.O(0,[675,664,774,888,179],function(){return t(t.s=1408)}),_N_E=t.O()}]);